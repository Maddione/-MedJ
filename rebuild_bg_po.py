import os, io, json

BG_PO = r"C:\Users\444\PychamProjects\MedJ2.1\locale\bg\LC_MESSAGES\django.po"
os.makedirs(os.path.dirname(BG_PO), exist_ok=True)

header = (
    'msgid ""\n'
    'msgstr ""\n'
    '"Project-Id-Version: MedJ\\n"\\n'
    '"Report-Msgid-Bugs-To: \\n"\\n'
    '"POT-Creation-Date: 2025-09-05 00:00+0000\\n"\\n'
    '"PO-Revision-Date: 2025-09-05 00:00+0000\\n"\\n'
    '"Last-Translator: MedJ Team <translations@medj.local>\\n"\\n'
    '"Language-Team: Bulgarian <translations@medj.local>\\n"\\n'
    '"Language: bg\\n"\\n'
    '"MIME-Version: 1.0\\n"\\n'
    '"Content-Type: text/plain; charset=UTF-8\\n"\\n'
    '"Content-Transfer-Encoding: 8bit\\n"\\n'
    '"Plural-Forms: nplurals=2; plural=(n != 1);\\n"\\n'
    '"X-Generator: restore-bg-po\\n"\\n'
    '\\n'
)

# Голям набор от ключови български низове от твоите екрани
strings = [
    "Български","English (US)","Начало","Табло","Досие","Л.Картон","Документи","Качи","Сподели","Страници",
    "История на събития","История на качванията","Лекари","Лабораторни изследвания","Профил","Настройки","Смяна на парола","Изход",
    "Вход","Регистрация","Влез в профила си, за да продължиш","Потребителско име","Парола","Забравена парола?","Запомни ме","Ел. поща","Повтори парола","Създай профил",
    "Личният ти медицински дневник","Съхранявай документите си, визуализирай резултати и споделяй временно с лекари.","създай своето досие сега",
    "Категория","Специалист","Тагове","От дата","До дата","Филтрирай","Изчисти","пр. Холестерол, Ендокринолог","Търси","Дата","Вид","Наименование",
    "Няма документи за показване.","Няма достатъчно данни за кръвни показатели.","Предстоящи прегледи","Няма насрочени прегледи.","Рецепти за изпълнение","Няма активни рецепти.",
    "Приемани медикаменти","Няма въведени медикаменти.","История на качените документи","Преглед на всички документи, които сте качили.","Търсене по име на документ или таг...",
    "Дата на качване","Име на файл","Тип документ","Действия","Няма тагове","Изтегли","Преглед","Все още нямате качени документи.","Качете първия си документ от тук",
    "Личен картон","Име (BG)","Рождена дата","Презиме (BG)","Пол","Фамилия (BG)","Телефон","Кръвна група","Адрес","Отмени","Запази",
    "Споделяне на личен картон","Отвори","Копирай линк","Затвори","Споделянето е изключено.","Активирай споделяне","Копирано",
    "Акаунт","Имейл","Лични данни","Име (EN, по желание)","Презиме (EN)","Фамилия (EN)","Дата на раждане",
    "Споделяне / Експорт","Филтър","Валидност PDF събития (часове)","Валидност PDF лаборатории (часове)","Валидност CSV (часове)",
    "PDF събития","PDF лаборатории","CSV","Генерирай линкове","Резултат","Отвори",
    "Важно:","Позволено:","един PDF","или","много изображения (JPG/PNG)","на същия документ.","Забранено:","смесване на PDF и изображения едновременно или повече от един PDF.",
    "Качи файл(ове)","Напред","История на качванията","Няма избрани файлове.","Има файлове с неподдържан формат. Позволени: PDF, JPG, JPEG, PNG.",
    "Позволен е само един PDF.","Не смесвайте PDF и изображения в едно качване.","Избрани файлове","Грешка при качване",
    "Паролата е сменена","Към вход","Нова парола","Повтори новата парола","Проверете пощата си","Изпрати линк","Забравена парола",
    "Ако съществува акаунт с този email, изпратихме инструкции за смяна на паролата.","Здравейте,","Получихме заявка за смяна на паролата за вашия профил в MedJ.",
    "Ако това не сте вие, игнорирайте този имейл.","За да зададете нова парола, отворете линка:","Поздрави,","Екипът на MedJ","Смяна на паролата в MedJ",
    "Адрес","Валиден до:","Все още няма добавени медицински събития.","Визуализация на кръвни изследвания и други показатели.","Вид","Дата на събитието","Детайли на събитието",
    "Документ","Експорт CSV","ЗАПИШИ","Забележка: PDF визуализацията може да изглежда различно в зависимост от браузъра.","Изтегли","Изтекъл","Изображение на документ","Име",
    "Име на събитие","Инсулин","Категория","Кръвна група","Лабораторни показатели","Личен картон","Няма визуализация за този тип файл.","Няма прикачен документ.","Няма качени документи.",
    "Обобщение","От","Отказ","Отмени линка","Показатели","Потвърждение за изтриване","Практикуващи лекари","Преглед","Преглед и редактиране на стойностите на лабораторните показатели.",
    "Преглед в цял размер","Преглед на всички медицински събития.","Прикачен документ","Резюме","Редакция на кръвни показатели","Редакция на медицинско събитие",
    "Сканирайте за отваряне на тази страница.","Създаване на ново медицинско събитие","Създай събитие","Специалност","Споделен документ","Споделено събитие",
    "Стойности на показателите","Тагове","Телефон","Триглицериди","Тип","Тип събитие","Тук ще се появи интерактивна графика.","Хемоглобин",
    "Търсене по резюме, таг, специалност…","Добави таг…","Добави","Запази","Изтрий.",
    "Export Lab Tests (CSV)","Back to Lab Tests","Choose a date range and optional filters, then download your results as a CSV file.",
    "From date","To date","Indicators","No indicators available","Hold Ctrl/Cmd to select multiple indicators.","Column separator","Comma (,)","Semicolon (;)","Tab",
    "Decimal separator","Include header row","Only abnormal results","Export CSV","Cancel",
    "Публичен","Размер","Редакция","Редакция на документ","Редакция на събитие","Редакция на тагове","Редакция на тагове за документ","Редакция на тагове за събитие",
    "Резюме","Рецепти за изпълнение","Създай линк за споделяне","Създай ново събитие на дата","Създай профил","Създай своето досие сега","Събитие","Събития",
    "Съдържание / Файл","Съхранявай документите си, визуализирай резултати и споделяй временно с лекари.","Съобщение / Успех / Създадено успешно / Запазено успешно / Изтрито успешно",
    "Табло","Тип","Тип документ","Тип: (в събитие)","Търсене","Указания / Важно:","Указване на форматите (PDF/JPG/PNG)","Управление / Основна информация",
    "Фамилия (BG)","Фамилия (EN)","Филтър","Хронология / История","Цел / Резултат","Часове / дни (във валидности)","Частен","Чииз / Избери файл / Choose file",
    "Шеринг / Сподели","Ще получите имейл с инструкции… (текстовете от password reset)","OCR текст","PDF","CSV","или","Преглед на медицинските специалисти.","Списък с лекари",
    "Няма документи за показване.","Търсене по име на документ или таг…",
    "Изход","Маркирай като публично / Частно","Междинни резултати / Резултат","Местоположение","Моля, изберете файл(ове).","Моля, поправете грешките по-долу.",
    "Наличност / Няма достатъчно данни за кръвни показатели.","Налично резюме няма. / Няма налично резюме.","Няма активни рецепти.","Няма насрочени прегледи.",
    "Няма качени документи за това събитие.","Няма избрани файлове.","Няма тагове",
    "Обнови / Запази промените","Обобщение на документ","Ограничения: Позволено / Забранено","Одит / История на действия","Око / Показване на парола","Омни / или",
    "Основна информация","От дата","Отвори","Отмени / Отказ","Пакет / PDF / CSV","Парола","Паролата е сменена","Печат","Печат от CSV","Плъзни и пусни",
    "Повтори новата парола","Повтори парола","Позволено:","Поле / Полета","Помощ / Информация","Потребител","Потребителско име","Потребителско име или имейл",
    "Премахни","Премести","Преместване на документ","Приемани медикаменти / Няма въведени медикаменти.","Прикачи към съществуващо събитие","Преглед","Преглед (Preview)",
    "Преглед на всички документи, които сте качили.","Преглед на документ","Преглед и управление на медицинското събитие и свързаните с него документи.",
    "Презиме (BG)","Презиме (EN)","При избор на файлове: предупреждения за формати (PDF, JPG, JPEG, PNG)","Приложи / Изпрати","Примирение / Генерирай линкове",
    "Пример: date,category,specialty,summary / indicator,YYYY-MM-DD,…"
]

def esc(s: str) -> str:
    return s.replace('\\', '\\\\').replace('"', r'\"')

with io.open(BG_PO, "w", encoding="utf-8", newline="\n") as f:
    f.write(header)
    for s in strings:
        f.write(f'msgid "{esc(s)}"\n')
        f.write(f'msgstr "{esc(s)}"\n\n')

print("BG django.po rebuilt with", len(strings), "entries at", BG_PO)
